<h1>All our flats (<%= @flats.count %>)</h1>

<div class="row">
  <% @flats.each do |flat| %>
    <div class="col-md-4 mb-4">
      <div class="flat-card d-flex flex-column shadow-sm">

        <% if flat.picture_url.present? %>
          <img src="<%= flat.picture_url %>" alt="Image of <%= flat.name %>" class="img-fluid" />
        <% else %>
          <p>No image available</p>
        <% end %>

        <div class="flat-details p-3 d-flex flex-column" style="background-color: #f8f9fa; flex-grow: 1;">
          <h2><%= flat.name %></h2>
          <p><%= flat.description %></p>

          <div class="d-flex justify-content-between">
            <div class="info-item">
              <i class="fas fa-users"></i> <%= flat.number_of_guests %> guests
            </div>
            <div class="info-item">
              <i class="fas fa-euro-sign"></i> <%= flat.price_per_night %> / night
            </div>
          </div>
        </div>

        <div class="flat-actions p-3" style="background-color: #ffffff;">
          <%= link_to 'More info', flat_path(flat), class: 'btn btn-link text-primary' %>
          <%= link_to 'Edit', edit_flat_path(flat), class: 'btn btn-link text-warning' %>
          <%= link_to 'Delete', flat_path(flat), data: { turbo_method: :delete, turbo_confirm: 'Are you sure you want to delete this flat?' }, class: 'btn btn-link text-danger' %>
        </div>
      </div>
    </div>
  <% end %>
</div>
